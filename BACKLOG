Estimation: WORKING HOURS (C=100,L=50,X=10,V=5,I=1,-=0,5)
------------------------
CC
XXIII


BOX BASICS
------------------------
OK - Pi, Battery & Speaker in Box are installed
OK - Wifi connected to JC-WIFI
OK - Raspberry installed incl. basics (docker ...)
OK - Container for mbox running
OK - BUG - exchange speaker / noise reduction (different speakers: Hama)
OK - BUG - speaker not not load enough ($ amixer set PCM -- 100%)
OK - Backup is working
OK - protection for speaker
OK - fixing electronic parts in the box
OK - Container for intranet running
OK - prod stage ... rollout script is working

- server in docker container working
- Own wifi for the box & iphone or PC connected: 
  http://www.raspberryconnect.com/projects/65-raspberrypi-hotspot-accesspoints/158-raspberry-pi-auto-wifi-hotspot-switch-direct-connection


BOX ENHANCEMENTS
------------------------
OK - RFID Reader to trigger playback of a playlist
OK - detect "other cards" ... (13,56 MHz required)
OK - 10 LED to display volume (4 green, 2 yellow, 2 red)
OK - Power Button with LED (between powerbank and raspberry)
OK - Buttons for Volume: Up, Down, Mute (as a microservice)
OK - Cover for power bank and speakers
OK - Storage for cards
OK - Buttons for "Play Next", "Play last", "Pause/Play"
OK - LED for server status (Docker is running, server is running, microservices are running, ...)
OK - LED for "card detected"

- cover for "deckel" inside

---
DECLINED - Display for status (connection)
DECLINED - ...     for track title ....



SERVER
------------------------
OK - Install PYGAME to play audio
OK - Play single audio file by REST-Request
OK - add UUID to album incl. track list (for requests)
OK - add image from jpg/png file in folder to album (if no image in mp3-file)
OK - wait for RFID input (and push data to app)
OK - increase / decrease volume
OK - Play list of audio files by REST-Request
OK - Play list in correct order
OK - handle files in play list with index - not .pop()
OK - optimize handling with image path (hard coded at the moment)
OK - Reload data -> remove all cover-files
OK - Reload data -> update existing entries (not overwrite)
OK - Load Playlist ... list loaded with correct uuid, but 
      "UnicodeEncodeError: 'ascii' codec can't encode character u'\xf6' in position 44: ordinal not in range(128)"
      -> or just don't start playing?!
OK - read playlists from db and return
OK - create new playlist in db 
OK - add entry of playlist in db
OK - add/change RFID to album/playlist
OK - ensure correct order in playlists
OK - remove entry of playlist in db
OK - start when known RFID detected (else stop, if unknown)
OK - add function for mute
OK - add function to request parts of the DB (list or element) ...  /mbox/list/<part>/ AND /mbox/list/<part>/<entry>/
OK - volume LED initial sequence (each LED once)
OK - display volume on LED
OK - sample microservice (get volume via /mbox/list and display to LEDs)
OK - delete card / RFID connection
OK - Create class to control stream (incl. first json-file)
OK - load/play/stop radio stream url 
OK - list available streams from radio.json
OK - BUG - set volume for streams also
OK - BUG - stop radio if start album and return
OK - music_ctrl -> different if radio!
OK - add rfid card to radio channel
OK - start radio channel if rfid card detected (stream_mpc.py)
OK - used buttons for radio stream also (play/pause)
OK - reduce volume of music box to adjust it to the stream volume a bit
OK - display status of reload / write to music_ctrl (to show in web-interface) ... calculation and logging started
OK - reload in background
OK - separate prod/test data in different sub-directories of one main directory
OK - separate prod/test hardware config (check config-file what stage should use hardware)
OK - BUG - server_led.py doesn't work for 2 stages at the same time: switch on/off GPIO when active stage changes
OK - BUG - last title should not be played in an endless loop
OK - radio: read URL from m3u file and return for local playback
OK - edit image for album
OK - BUG - Buttons / LED error handling, if
OK - read/load size of album (the check if loading via LTE is OK) - in bytes per track / album
OK - transfer genre information from tracks to album (as list)
OK - translate volume to pseudo logarithmic scale 
OK - LED error / stage to status LEDs
OK - BUG - set metadata if mp3-tags are empty & and set infos, if file format not supported
OK - BUG - entry without album and artist name leads to wrong entry
OK - Switch STREAM to vlc
OK - move buttons to new API commands
OK - move LED to new API command
OK - create a representative set of test data
OK - create data tracks by artists (to filter ...)
OK - LED initialize & init when chip used (hard coded at the moment)
OK - switch MP3 / M4A playback to vlc (supports other new formats as well)
OK - radio: add/delete radio stream entry
OK - CouchDB to store the data
  OK - back JSON files to CouchDB
  OK - request data for /mbox/list_album/<uuid>/ from CouchDB 
  OK - move functions into module
  OK - more generic function to control music playback incl. switch to CouchDB
  OK - ... functions to read data incl. switch to CouchDB
  OK - ... functions to edit/delete playlists
  OK - ... functions to delete albums
  OK - ... more generic functions to edit / delete data incl. switch to CouchDB
  OK - ... more generic functions to import metadata from files incl. switch to CouchDB
  OK - reload leads to wrong data ... ?!
OK - read metadata from mp4 files using MUTAGEN
OK - read image data from mp4 filw
OK - reduced data in couchDB["albums"] - track_uuid instead of full title information
OK - optimized rea direct from DB vs. out of cache; refill cache in the background when change data in the database
OK - calculate time left when reloading
OK - connect usb device with songs (simple version ... mount & symbolic link)
OK - BUG - when connected rfid card to album you've to switch on/off the box to used card
OK - reload images
OK - BUG - load new music files 
OK - check if card already is connected when reloading music files (based on album and artist)
OK - RFID module moved to separate service
OK - transmit UUID when made operations with this UUID (to reload with focus on this element)
OK - add file / albumpath as reference to tracks / albums in playlist (for recovery, to be implemented)
OK - radio/playlist: edit entry metadata
OK - OPTIMIZE ARCHITECTURE
  OK  - PERFORMANCE optimization: decide, when to refresh cache, when to load direct from DB, and when to load from cache
  OK - use swagger connexion[swagger-ui] to define API
  OK - migrate python2 to python3 (no python3 module for RFID) - requires migration to swagger
  OK - use PUT, DEL, GET ...
OK - show space left on ssd card / USB stick; space left on system disk
OK - measure durations during start process

BUG - Start radio channel by card doesn't work for all channels (starting via UI works) -> reread mp3-url when ever loaded
BUG - if playing and press play in a playlist, start with first song instead of actuall running song (PlaySong -> start file, not list without loading list again)

- show space used und system dis
- reconnect tracks / albums when reloading based on path/file or albumpath (mbox_load)
- save presets in database and e.g. prefered device, start with last song played before switched off
- check and show voltage ... "vcgencmd measure_volts core" ... sdram_i, sdram_p, sdram_c

---
DECLINED - BUG - Play the whole song, not only parts // not seen any more
DECLINED - dont delete playlist when stop: don't unload playlist/title if stop - just rewind to first position, but display now reflects situation


CLIENT
------------------------
OK - send request to play an audio file
OK - send request to stop playback
OK - show RFID detection
OK - show song running at the moment
OK - single songs use play as for playlists
OK - send request to play playlist (album)
OK - show volume level
OK - control volume (up / down)
OK - control for running playlist/song ... and buttons to control playback (in 3rd frame ?)
     -> play, stop, pause, next, last
OK - initial App-title
OK - Load album details based on "album_info" and "tracks"
OK - Load Playlists / single titles ... load with "undefined" as uuid (POTENTIALY FIXED)
OK - Stop / Play for Playlist Control ... (stop, hold position, start position from the beginning, dont reload playlist)
OK - load album details (incl. tracks) by sendCmd
OK - mode "playlists"
OK - show app title (change depending on function/mode -> all/playlists)
OK - check if server and if update available (see jc://remote/)
OK - setting page to reload db
OK - setting page to show relevant data (summary)
OK - create playlist
OK - Reload mboxControl after every command
OK - add/change RFID Key for albums
OK - add/change RFID for playlist
OK - ensure correct order in playlists
OK - add/delete track from playlist
OK - show list of rfid cards in db
OK - UX design for control for playlist
OK - show icon, if playing playlist or album
OK - error handling if edding rfid connect
OK - BUG - album image in album view if image2
OK - add title to playlist:
  OK -> appMsg.confirm: (1) Drop Down of Albums; 
  OK ->              (2) Load Album titles after selection and list 
  OK ->              (3) each title with a (+) and a (+) to add all titles
  OK - BUG - appMsg.confirm -> place buttons dependend from height of msg-box
OK - button for mute
OK - album image in list mode if image2
OK - delete RFID from album/playlist
OK - edit rfid cards out of list ...
OK - add function / button for mute (and set volume to 0, save old volume)
OK - load list and show of web streams (radio)
OK - control playback (play & load, stop) and show if playing (analog to albums)
OK - radio - show if playing (analog to albums)
OK - radio - mboxControl f√ºr Radio anpassen ... (ICON what is loaded, Title, Buttons ...)
OK - set default icon radio
OK - show if playing for playlists (analog to albums)
OK - load album/playlist/radio info below the cover
OK - buttons for album/playlist/radio in the top
OK - connect radio to rfid card
OK - 2 columns for mobile phone horizontal (css)
OK - unpause if pressed play
OK - BUG - performance issue: load only data that are required for next step
OK - show radio channel information from mpc
OK - BUG - stop radio/music if card detected
OK - BUG - edit/show rfid cards after feature adding for radio ... and UX optimizing
OK - check last loading -> show status if offline for a while (control and virtual LED)
OK - show image for playlist (without upload)
OK - show reload status (progress)
OK - add image for playlist (Upload)
OK - BUG - upload image -> change php.ini; set image size limit higher?!
OK - sendCmd in "LED" top/right (see jc://remote/)
OK - hide playing icon when disconnect
OK - fullscreen view for 6 covers ... show page by page ... to create screenshots for print out
OK - adaptive design for iPhone 5c
OK - tooltip for albums (adaptive design)
OK - connecting triangle between album cover and album details (opened)
OK - Albums: separate when new character in album / artist name ...
OK - Albums/Playlist: delete from data base -> to reload after editing with another software
OK - enhanced player for playback via client (try to use freeware)
  OK - BUG - right order of tracks
  OK - buttons with icons as control
  OK - show time infos while playing
  OK - responsive and below the list
  OK - show time left
  OK - cover if in file or in mp3
  OK - replace player for single tracks with this player
  OK - optimize control (switch to hide control elements)
OK - progressbar for music playing on mbox (remote)
OK - show playing song in album
OK - change playback commands to new server commands /mbox/ctrl/*/*/ (e.g. http://192.168.1.27:5006/mbox/ctrl/play/a_2605c8a6-de37-11e9-b8b8-b827eb13c62e/)
OK - albums: (handle files without ID3 Tags ... Album/Arist name)
OK - show chapter without cursor:pointer (CSS)
OK - shorten track entries in playlists and albums
OK - Check playlist functionality after changing backend / server (listing OK, editing and playback not yet tested)
OK - add playlist out of list of playlists and optimized deletion / addition incl. an alert
OK - add album image via upload (analog playlist) - show image is open (select if cover_image1,2,3)
OK - detail info view for playlists and webstreams
OK - add stream image via upload
OK - local images for radio logo / default image for radio
OK - BUG - show playing: not working when unloaded files ...?!
OK - show playing: radio channel (mbox-radio.js / mbox-control.js => reuse div with ids ...)
OK - show playing: playlist / song in playlist
OK - BUG - detail view Playlist doesnt open if less than 6 tiles in the first row ... ?!
OK - BUG - show playing album if only single title selected
OK - show time left when reloading data
OK - first filter based on directory (= category)
OK - show blue light in APP when RFID card detected
OK - show and scroll to album / playlist if done operation with this list
OK - optimize playlist editing (reload is done automatically, optimized view of tracks to be added or deleted)
OK - optimize RFID editing
OK - BUG - if stop, no album/track info is shown any more?! -> OK, but mbox control and playing icon now reflect this
OK - optimize CSS animation for mbox control
OK - enable jcApp for PUSH, POST, DELETE ... and use XMLHttpRequest() 
OK - filter for/group by artists
OK - edit metadata for playlists and web-streams
OK - show initial load time and running time in settings

- filter for genres (or other metadata ...)
- use enhanced local player also for playlists (tracks & albums to be loaded)
- appMsg.confirm -> place dialog in the middle (bit more above ...)
- reload control panel whenever pressed button (show new title and new buttons immedatley)
